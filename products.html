
<!-- products.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Products</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Database -->

  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-analytics.js";
    // TODO: Add SDKs for Database products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Database configuration
    // For Database JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCskwp6LXirBoO0lnuYfWZyqKMVoqfMcjM",
      authDomain: "cc-mediastore.firebaseapp.com",
      projectId: "cc-mediastore",
      storageBucket: "cc-mediastore.firebasestorage.app",
      messagingSenderId: "755685023978",
      appId: "1:755685023978:web:5b761e81bc846b96103793",
      measurementId: "G-6L0NJVKKEG"
    };
  
    // Initialize Database
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>
</head>
<body>
  <h1>Products</h1>
  <div id="product-container"></div>

  <script>
    const container = document.getElementById("product-container");

    function renderProduct(product) {
      const message = encodeURIComponent(
        `Hi, I'm interested in this product:\n\n*${product.name}*\nPrice: ${product.price}\n\nDescription:\n${product.desc}`
      );

      const whatsappNumber = "2349012345678"; // replace with your number

      const card = document.createElement("div");
      card.className = "product-card";
      card.innerHTML = `
        <img src="${product.image}" alt="${product.name}" style="width:100%; height:200px; object-fit:cover;">
        <h3>${product.name}</h3>
        <p>${product.price}</p>
        <p>${product.desc}</p>
        <a href="https://wa.me/${2348161514098}?text=${message}" target="_blank">
          <button>Buy</button>
        </a>
      `;
      container.appendChild(card);
    }

    function loadProducts() {
      container.innerHTML = "";
      db.collection("products").get().then(snapshot => {
        snapshot.forEach(doc => {
          renderProduct(doc.data());
        });
      });
    }

    window.onload = loadProducts;
  </script>
</body>
</html>
